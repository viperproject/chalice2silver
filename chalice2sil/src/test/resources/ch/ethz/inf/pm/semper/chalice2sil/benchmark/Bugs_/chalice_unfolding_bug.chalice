/* Verified in Chalice r61723 - clearly a bug */
/* It is actually the already known unsoundness in Chalice */
class Test {
	var x: int
	
	predicate X3 { acc(x) }
	
	method reqX3()
		requires X3
		ensures X3
	{
		/* Even verifies with the following code included */
		// unfold X3
		// x := 123
		// fold X3
	}
	
	method fail1()
		requires X3
		ensures X3
	{
		var y1: int := unfolding X3 in x
		call reqX3()
		var y2: int := unfolding X3 in x
		assert y1 == y2 /* @Error 410 */ /* Succeeds in Chalice */
	}
}