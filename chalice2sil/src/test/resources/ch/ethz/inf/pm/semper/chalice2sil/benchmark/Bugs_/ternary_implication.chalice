/* There has been a bug in Evaluator.eval2 which resulted in forgetting
 * additional path conditions when evaluating the ternary operator.
 */
class Test {
	method ternary1(x: int, y: int) returns (r: int)
		requires x != y
		ensures r == x ==> x*y > 0
		ensures r == y ==> x*y <= 0
	{ r := x*y > 0 ? x : y }
	
	method ternary2(x: int, y: int) returns (r: int)
		requires x != y
		ensures x*y > 0 ==> r == x
		ensures x*y <= 0 ==> r == y
	{ r := x*y > 0 ? x : y }
	
	method ternary3(x: int, y: int) returns (r: int)
		requires x != y
		ensures x*y > 0 <==> r == x
		ensures x*y <= 0 <==> r == y
	{ r := x*y > 0 ? x : y }
}