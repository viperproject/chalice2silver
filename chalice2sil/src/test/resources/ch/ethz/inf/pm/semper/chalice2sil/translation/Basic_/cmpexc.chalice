class Main {
    var f : int;
    method cmpexc(v : int, c : int) returns (o : int)
        requires acc(f)
        ensures acc(f)
        ensures o == old(f)
        ensures old(f) == c ==> f == v
    {
        o := f;
        if(f  == c){
            f := v;
        }
    }
}