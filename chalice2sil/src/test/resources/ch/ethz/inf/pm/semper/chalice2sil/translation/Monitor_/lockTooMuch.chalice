class C {
    var f : int;

    invariant acc(f);

    method main(){  // @Error 310 // postcondition won't hold since we unlock too much.
                                  // Ideally we'd have a more accurate error message.
        var c : C;
        c := new C;
        c.f := 5;

        share c;

        acquire c;
        c.f := 6;

        // should give an error about locking/unlocking more than allowed
    }
}