class Test01 {
  var f: int
  
  predicate P { rd(f) }

  method worker()
    requires rd(P)
  {}

  method test06(n: int)
    requires acc(f)
    requires n >= 0
  {
    var i: int := 0

    freeze(f)

    while (i < n)
      invariant rd(f)
    {
      fold P
      fork tk := worker()
    }
  }
}