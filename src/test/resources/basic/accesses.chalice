// :: UnexpectedOutput(internal:feature.unsupported, /Chalice2SIL/issue/22/)
class A
{
  var x:A
  
  method m(other:A)
    requires acc(x) && acc(mu) && acc(other.x) && acc(other.x.mu) && other.x == this.x
	requires p && acc(other.p) && acc(this.p) && acc(p, 50)
  {
  }

  method n(other: seq<A>)
    // , /Chalice2SIL/issue/27/)
    //:: ExpectedOutput(internal:feature.unsupported)
    requires acc(other[*].p) //&& acc(other[*].x)
	// :: UnexpectedOutput(internal:feature.unsupported, /Chalice2SIL/issue/27/)
	//ensures rd(other[*].*) && rd(this.*)
  {
  }
  
/*  method o()
    requires acc(x, rd(10))
    ensures acc(x, rd(9))
  {
    fork t:= n([this])
	assert acc(t.joinable) && acc(this.mu)
	assert acc(t.*)
  } */
	
  predicate p { true }
}