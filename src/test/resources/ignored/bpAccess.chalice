//:: IgnoreFile(/Chalice2SIL/issue/37/)
  // backpointers are under construction (issue 42) and this should count as a fatal Chalice2SIL error (issue 37)
  // note that this file checks syntax and resolution and is not meant to verify

class A
{
  tracked ghost var p: A
  var q: B
}

class B
{
  method m(x:A)
    requires ~(C.f) - (x.p.q).~(C.f) == ~(C.f)
	requires acc((x.p).~(A.p), 50) && rd*(x.~(A.p))
	requires (x.p).~(A.p) == x.~(A.p)
  {
    assert ~(C.f) == ~(C.f)
	assert (x.p).~(A.p) == x.~(A.p)
  }
}

class C { tracked ghost var f: B }
